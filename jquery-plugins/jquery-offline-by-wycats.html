<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A jQuery Plugin to Facilitate Conveniently Working with Local Storage</title>
    <meta name="description" content="jquery-offline by wycats. A jQuery plugin to facilitate conveniently working with local storage">
    <meta name="author" content="wycats">
    <meta name="robots" content="index, follow">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://codehimblog.github.io/jquery-plugins/jquery-offline-by-wycats.html">
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/png">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="https://codehimblog.github.io">
        <i class="bi bi-box-seam me-2"></i>CodehimBlog
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="https://codehimblog.github.io/"><i class="bi bi-house-door me-1"></i> Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://codehimblog.github.io/projects/"><i class="bi bi-box me-1"></i> Projects</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://codehimblog.github.io/about.html"><i class="bi bi-book me-1"></i> About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://codehimblog.github.io/contact.html"><i class="bi bi-envelope me-1"></i> Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

<!-- Breadcrumbs -->
<div class="container mt-4 breadcrumbs">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb mb-0">
      <li class="breadcrumb-item"><a href="https://codehimblog.github.io/">Home</a></li>
      <li class="breadcrumb-item"><a href="https://codehimblog.github.io/jquery-plugins/">jQuery Plugins</a></li>
      <li class="breadcrumb-item active" aria-current="page">jQuery Offline</li>
    </ol>
  </nav>
</div>

<!-- Schema Markup for Breadcrumbs -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://codehimblog.github.io/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "jQuery Plugins",
      "item": "https://codehimblog.github.io/jquery-plugins/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "jQuery Offline",
      "item": "https://codehimblog.github.io/projects/{{packageSlug}}"
    }
  ]
}
</script>
  <!-- Main Content -->
  <div class="container mt-3">
    <div class="row">
      <!-- Main Details -->
      <main class="col-md-8 site-main p-0">
		  <article>
        <!-- Project Name & Description -->
        <h1 id="packageName">jQuery Offline</h1>
        <p id="packageDescription" class="text-muted">A jQuery plugin to facilitate conveniently working with local storage</p>
			  


<!-- Statistics -->
<div class="stat-row d-flex justify-content-around align-items-center text-center mb-2">
  <div class="stat-box d-flex align-items-center flex-column-mobile">
    <i class="bi bi-star-fill text-warning mb-2"></i>
    <div>
      <span id="stargazersCount" class="stat-value">835</span>
      <p class="stat-label mb-0">Stars</p>
    </div>
  </div>
  
  <div class="stat-box d-flex align-items-center flex-column-mobile">
    <i class="bi bi-box-arrow-in-down mb-2"></i>
    <div>
      <span id="repoSize" class="stat-value">0.19 MB</span>
      <p class="stat-label mb-0">Size</p>
    </div>
  </div>
  
  <div class="stat-box d-flex align-items-center flex-column-mobile">
    <i class="bi bi-arrow-repeat text-secondary mb-2"></i>
    <div>
      <span id="forksCount" class="stat-value">46</span>
      <p class="stat-label mb-0">Forks</p>
    </div>
  </div>

  <div class="stat-box d-flex align-items-center flex-column-mobile">
    <i class="bi bi-exclamation-circle text-danger mb-2"></i>
    <div>
      <span id="openIssuesCount" class="stat-value">7</span>
      <p class="stat-label mb-0">Open Issues</p>
    </div>
  </div>
</div>


<div class="ad-unit ad-apt">
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7089100907045419"
     crossorigin="anonymous"></script>
<!-- CodehimBlog APT -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7089100907045419"
     data-ad-slot="4990741913"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			  </div>

<div class="row mb-4">
  <!-- Tabs (Left) -->
  <div class="col-12 col-md-6 d-flex justify-content-start mb-3 mb-md-0">
    <ul class="nav nav-tabs" id="infoTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="installation-tab" data-bs-toggle="tab" data-bs-target="#installation" type="button" role="tab" aria-controls="installation" aria-selected="true">
          <i class="bi bi-file-earmark-text"></i> Readme
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="changelog-tab" data-bs-toggle="tab" data-bs-target="#changelog" type="button" role="tab" aria-controls="changelog" aria-selected="false">
          <i class="bi bi-journal-text me-2"></i> Changelog
        </button>
      </li>
    </ul>
  </div>

  <!-- Action Buttons (Right) -->
  <div class="col-12 col-md-6 d-flex align-items-center justify-content-end">
    <a href="https://github.com/wycats/jquery-offline/archive/refs/heads/master.zip" class="btn btn-primary me-2 action-btn" id="downloadBtn">
      <i class="bi bi-cloud-download me-2"></i>Download ZIP
    </a>
    <a href="https://github.com/wycats/jquery-offline" target="_blank" class="btn btn-outline-secondary action-btn" id="githubBtn">
      <i class="bi bi-github me-2"></i>Fork on GitHub
    </a>
  </div>
</div>
        <div class="tab-content mt-3" id="infoTabsContent">
          <div class="tab-pane fade show active" id="installation" role="tabpanel" aria-labelledby="installation-tab">
            <p>h1. jQuery Offline Plugin</p>
<p>Web applications that wish to work robustly in flaky or offline scenarios can use client-side persistence to serve stale data while transparently trying to reconnect for more up-to-date data if possible.</p>
<p>In a mobile scenario, the user may consider himself &quot;connected&quot; when in fact he has dropped out of connectivity for a moment (for instance, he may have gone under a tunnel). Because of this, and because latency on mobile devices can be quite high, a well-behaved mobile web application (or even simple website) will serve up content out of a local cache, so the user can see it quickly, before trying to make a connection to retrieve new content.</p>
<p>This completely eliminates the fear of pressing the back button on mobile devices, since the user will be able to see the &quot;index&quot; page on a content site, for instance, even if their connection has temporarily dropped.</p>
<p>The jQuery offline plugin provides an easy mechanism for retrieving JSON data from a remote server, and then caching it. Subsequent requests for the same URL will retrieve the data from the cache, rather than the remote server.</p>
<p>If the user is online, the plugin will transparently request new content from the remote server, firing the callback again if the content has changed. If the user is offline, the plugin will request the data from the remote server for the most recent request when the user comes back online.</p>
<p>jQuery Offline uses the HTML5 &quot;@localStorage@ API&quot;:<a href="http://dev.w3.org/html5/webstorage/">http://dev.w3.org/html5/webstorage/</a> for persistence. You can use the same API for browsers that do not support @localStorage@, jQuery Offline will simply fall back to making a request to the server each time. As a result @jQuery.retrieveJSON@ is a portable way to make a request for JSON that should be cached if possible.</p>
<p>For more information on the basic strategy used here and the rationale for it, check out &quot;Rack::Offline&quot;:<a href="http://github.com/wycats/rack-offline/blob/master/README.textile">http://github.com/wycats/rack-offline/blob/master/README.textile</a>, starting from &quot;Application Cache&quot;.</p>
<p>h1. Recommended With</p>
<p>jQuery Offline can be used standalone with jQuery 1.4.2 and above. However, it is best used in conjunction with &quot;Rack::Offline&quot;:<a href="http://github.com/wycats/rack-offline">http://github.com/wycats/rack-offline</a> and &quot;jquery-tmpl&quot;:<a href="http://github.com/jquery/jquery-tmpl">http://github.com/jquery/jquery-tmpl</a>.</p>
<p>@Rack::Offline@ automates the process of generating a cache manifest, and @jquery-tmpl@ automates the process of taking a JavaScript object retrieved via @jQuery.retrieveJSON@ and making HTML out of it.</p>
<p>Note that neither iPhone OS 3.1 and earlier nor jQuery have native JSON serialization tools. You can grab @json.js@ from the @lib@ directory of this repository. It's a small library, and it will not override the native serialization and deserialization if they exist (such as on recent versions of Firefox, Safari, and iPhone OS 3.2 and later).</p>
<p>h1. Usage</p>
<p>You can find jQuery Offline in the @lib@ directory of this repository.</p>
<p>jQuery Offline provides two methods:</p>
<p>h2. @jQuery.retrieveJSON@</p>
<pre lang="ruby">
jQuery.retrieveJSON("/url", {data: "toSend"}, function(json, status, data) {
  // json will be the same whether or not the cache was hit
  // status will be either "success" or "cached"
})
</pre>
<p>@jQuery.retrieveJSON@ has the <em>same</em> API as @jQuery.getJSON@ with one exception: if the data is available in the cache, the callback will be called twice. First, it will be called with the object retrieved from the cache with the status &quot;cached&quot;. Next, once the JSON request succeeds, it will be called with the object returned from the Ajax request with the status &quot;success&quot;.</p>
<p>Returning false from the callback when the status is @cached@ will cause jQuery Offline to skip the Ajax request. You can use this if you don't want to refresh the content if there is local content available.</p>
<p>If the contents come from the cache, the third parameter will be an object containing the time that jQuery Offline originally cached the content: <code>{ cachedAt: originalTime }</code>.</p>
<p>If the Ajax request was made after a successful hit from the cache, jQuery Offline will make the third parameter to the function <code>{ cachedAt: originalTime, retrievedAt: timeRetrieved }</code>. The @originalTime@ is the original time that the item was put into the cache. The @timeRetrieved@ is the time that the data was originally retrieved from the cache (in this session). You might use this third parameter to alert the user that a change is about to happen, if such a change would be particularly jarring. </p>
<p>Note that this third parameter is also supplied for a cache hit; if you want to determine whether a particular response is a follow-up to a cache hit, use: <code>if( status == &quot;success&quot; &amp;&amp; data )</code>.</p>
<p>Additionally, @jQuery.retrieveJSON@ will not make a new request if a request is in-process for a particular URL/query-string combination.</p>
<p>h2. @jQuery.clearJSON@</p>
<p>@jQuery.clearJSON@ takes the same first two parameters as @jQuery.retrieveJSON@ and clears the associated key. You can use this function to forcibly purge the cache for a particular URL and set of data. In general, you should not have to do this, as jQuery Offline will always make a follow-up request for content from the server if possible.</p>
<p>h1. Suggested Strategy for Offline Apps</p>
<p>You should use jQuery Offline in combination with an HTML5 cache manifest and @jquery-tmpl@ for the best effect. An example follows.</p>
<p>First, the HTML:</p>
<pre lang="html">
<html manifest="application.manifest">
  <head>
    <link rel="stylesheet" href="/stylesheets/application.css" />
    <script src="/javascripts/jquery.js"></script>
    <script src="/javascripts/template.jquery.js"></script>
    <script src="/javascripts/jquery.offline.js"></script>
    <script id="articleTemplate" type="text/html">
      {{each(article) articles}}
      <article>
        <header>
          <h1>${article.title}</h1>
          <h2>By ${article.byline}</h2>
        </header>
        ${article.body}
      </article>
      {{/each}}
    </script>
  </head>
  <body>
    <div id="loading"><img src="loading.png" /></div>
    <header>
      <img src="masthead.png" />
      <nav><ul>
        <li>Main List</li>
        <li>Recommended</li>
      </ul></nav>
    </header>
    <div id="articles">
    </div>
    <footer>
      Copyright Me, Inc.
    </footer>
  </body>
</html>
</pre>
<p>And the JavaScript using jquery-tmpl and jQuery Offline:</p>
<pre lang="javascript">
jQuery(document).ready(function($) {
  // Since jQuery.retrieveJSON delegates to jQuery's Ajax
  // to make requests, we can just set up normal jQuery
  // Ajax listeners.
  $("#loading").ajaxStart(function() { $(this).show(); });
  $("#loading").ajaxStop(function() {  $(this).hide(); });

  var updateArticles = function(callback) {
    $.retrieveJSON("/article_list.json", function(json, status) {
      var content = $("#articleTemplate").render( json );
      $("#articles").empty().append(content);

      // If this *isn't* a cache hit, but rather a
      // successful Ajax request, queue an update task
      // for five minutes from now.
      if( status == "success" ) { setTimeout( callback, 300000 ); }
    });
  };

  // In five minutes, kick off a background request for
  // more data. If the user is online, it will be processed
  // immediately. If the user is not, it will queue the
  // request for when the user comes online
  setTimeout(function periodicUpdater() {
    // Pass in this function as the callback to updateArticles
    updateArticles(periodicUpdater);
  }, 300000)

  // Immediately try to retrieve the data. If the cached
  // data is available, it will be used.
  //
  // If the user is online, it will kick off a request for
  // updated content in the background. If not, it will
  // queue the request for later.
  updateArticles();
});
</pre>
<p>Because of the architecture of jQuery Offline, you can call $.retrieveJSON whether or not the user is online, and the plugin will either make an immediate request or kick off a request when the user comes back online. This also means you can kick off a timer for a request for new content in the callback to @jQuery.retrieveJSON@. If the user is online, it'll get new content every N minutes, like clockwork. If the user is offline, jQuery Offline will simply wait until the user comes back online to make the request.</p>
<p>The above JavaScript is roughly equivalent to the JavaScript strategy I used in &quot;Rack::Offline&quot;:<a href="http://github.com/wycats/rack-offline">http://github.com/wycats/rack-offline</a>, but most of the dirty work is handled for you.</p>
<p>h1. Tests</p>
<p>jQuery Offline has a test suite that tests functionality in browsers with @localStorage@ and browsers without @localStorage@. To run the tests, you will need Ruby on your system. Then, follow these instructions in a checked out copy of this app:</p>
<pre>
$ gem install bundler
$ bundle install
$ bundle exec rackup &
$ open http://localhost:9292/index.html # to run the localStorage-enabled tests
$ open http://localhost:9292/index-fallback.html # to run the localStorage-disabled tests
</pre>
<p>jQuery Offline also passes JSLint.</p>
<p>h1. TODO</p>
<ul>
<li>-Remember the time that the original content was cached; then provide it to follow-up calls-</li>
<li>Provide better fallback for browsers without localStorage</li>
<li>Provide more integrated support for jquery-templ?</li>
<li>Deal with error messages because the cache is full</li>
<li>LRU + preferred key algorithm</li>
<li>Add TTL to the caching mechanism (each key or global?)</li>
</ul>
          </div>

          <div class="tab-pane fade" id="changelog" role="tabpanel" aria-labelledby="changelog-tab">
            <ul id="changelogList">
              No changelog available.
            </ul>
          </div>

        </div>
			  
 <div class="tags mb-2 mt-2">
   
</div>
			  
			  </article>

		  
      </main>
		    <!-- Sidebar -->
      <aside class="col-md-4 p-0">
		 <div class="sidebar">
  <!-- Owner Section -->
  <div class="sidebar-item mb-4">
<div class="ad-unit">
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7089100907045419"
     crossorigin="anonymous"></script>
<!-- CodehimBlog Sidebar -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7089100907045419"
     data-ad-slot="8929986923"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			 </div>
    <div class="d-flex align-items-center">
      <img src="https://avatars.githubusercontent.com/u/4?v=4" alt="Owner Avatar" class="rounded-circle me-2 owner-avatar">
      <a href="https://github.com/wycats" target="_blank" id="ownerName" class="sidebar-link">wycats</a>
    </div>
  </div>

  <!-- Metadata Section -->
  <div class="sidebar-item mb-2">
    <div class="metadata-item d-flex align-items-center">
      <i class="bi bi-calendar me-2"></i>
      <strong>Created At:</strong>
      <span id="createdAt" class="ms-1">May 3, 2010</span>
    </div>
    <div class="metadata-item d-flex align-items-center mt-2">
      <i class="bi bi-pencil-square me-2"></i>
      <strong>Last Updated:</strong>
      <span id="updatedAt" class="ms-1">August 12, 2024</span>
    </div>
    <div class="metadata-item d-flex align-items-center mt-2">
     <i class="bi bi-file-earmark-code me-2"></i>
      <strong>Language:</strong>
      <span id="language" class="ms-1">JavaScript</span>
    </div>
	  
	      <div class="metadata-item d-flex align-items-center mt-2">
      <i class="bi bi-shield-check"></i>
      <strong>License:</strong>
      <span id="license" class="ms-1">Unknown</span>
    </div>
	        <a href="#" target="_blank" class="btn btn-outline-dark btn-sm" id="homepageBtn">
            <i class="bi bi-house-door me-2"></i>Visit Homepage
          </a>
 
  </div>
			 
			   <div class="sidebar-item mb-2">
              <li>No dependencies!</li>
			 </div>
			 
			 	   <div class="sidebar-item">
    <h5 class="sidebar-title">Contributors</h5>
            <ul class="p-0" id="contributorsList">
              <ul class="list-group list-group-flush" id="contributorsList"><li class="list-group-item d-flex align-items-center contributor-item"><img src="https://avatars.githubusercontent.com/u/4?v=4" alt="wycats" class="rounded-circle me-3" style="width: 40px; height: 40px;"><div><a href="https://github.com/wycats" target="_blank" class="text-decoration-none fw-bold">wycats</a><p class="mb-0 text-muted small">16 contributions</p></div></li><li class="list-group-item d-flex align-items-center contributor-item"><img src="https://avatars.githubusercontent.com/u/5743?v=4" alt="bts" class="rounded-circle me-3" style="width: 40px; height: 40px;"><div><a href="https://github.com/bts" target="_blank" class="text-decoration-none fw-bold">bts</a><p class="mb-0 text-muted small">5 contributions</p></div></li><li class="list-group-item d-flex align-items-center contributor-item"><img src="https://avatars.githubusercontent.com/u/29048?v=4" alt="mirceapasoi" class="rounded-circle me-3" style="width: 40px; height: 40px;"><div><a href="https://github.com/mirceapasoi" target="_blank" class="text-decoration-none fw-bold">mirceapasoi</a><p class="mb-0 text-muted small">3 contributions</p></div></li><li class="list-group-item d-flex align-items-center contributor-item"><img src="https://avatars.githubusercontent.com/u/555859?v=4" alt="craigspaeth" class="rounded-circle me-3" style="width: 40px; height: 40px;"><div><a href="https://github.com/craigspaeth" target="_blank" class="text-decoration-none fw-bold">craigspaeth</a><p class="mb-0 text-muted small">2 contributions</p></div></li><li class="list-group-item d-flex align-items-center contributor-item"><img src="https://avatars.githubusercontent.com/u/17586?v=4" alt="jo" class="rounded-circle me-3" style="width: 40px; height: 40px;"><div><a href="https://github.com/jo" target="_blank" class="text-decoration-none fw-bold">jo</a><p class="mb-0 text-muted small">2 contributions</p></div></li><li class="list-group-item d-flex align-items-center contributor-item d-none"><img src="https://avatars.githubusercontent.com/u/107824?v=4" alt="rdworth" class="rounded-circle me-3" style="width: 40px; height: 40px;"><div><a href="https://github.com/rdworth" target="_blank" class="text-decoration-none fw-bold">rdworth</a><p class="mb-0 text-muted small">2 contributions</p></div></li><li class="list-group-item d-flex align-items-center contributor-item d-none"><img src="https://avatars.githubusercontent.com/u/141167?v=4" alt="scottgonzalez" class="rounded-circle me-3" style="width: 40px; height: 40px;"><div><a href="https://github.com/scottgonzalez" target="_blank" class="text-decoration-none fw-bold">scottgonzalez</a><p class="mb-0 text-muted small">1 contributions</p></div></li><li class="list-group-item text-center"><a href="#" id="toggleContributors" class="d-block">+2 more Contributors</a></li></ul>
            </ul>
			 
			 </div>
			 
			 <div class="ad-unit">
				 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7089100907045419"
     crossorigin="anonymous"></script>
<!-- CodehimBlog Skyscrapper -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7089100907045419"
     data-ad-slot="7469565592"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			 </div>
			 
</div>
      </aside>
    </div>
  </div>
	<!-- Footer -->
<footer class="bg-dark text-white text-center py-3 page-footer">
  <div class="container">
    <p class="mb-2">© 2024 CodehimBlog - Powered by GitHub</p>
    <nav>
      <ul class="list-inline mb-0">
        <li class="list-inline-item">
          <a href="/privacy-policy.html" class="footer-link">Privacy Policy</a>
        </li>
        <li class="list-inline-item">
          <span class="text-white">|</span>
        </li>
        <li class="list-inline-item">
          <a href="/terms-and-conditions.html" class="footer-link">Terms and Conditions</a>
        </li>
      </ul>
    </nav>
  </div>
</footer>
  <!-- Bootstrap Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
	<script src="/js/script.js"></script>
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FG2ZX76XGT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FG2ZX76XGT');
</script>
</body>
</html>